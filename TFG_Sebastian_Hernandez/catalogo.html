<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Catálogo</title>
    <link rel="stylesheet" href="catalogo.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <a href="menu.html" class="logo">Clothe<span>Shop</span></a>
            <input type="checkbox" id="menu-toggle">
            <label for="menu-toggle" class="menu-icon">
                <i class="fas fa-bars"></i>
            </label>
            <nav class="navbar">
                <ul>
                    <li><a href="menu.html">Menu</a></li>
                    <li><a href="catalogo.html" class="active">Catálogo</a></li>
                    <li><a href="soporte.html">Soporte</a></li>
                    <li><a href="carrito.html"><i class="fas fa-shopping-bag"></i></a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="catalog-main container">
        <h1 class="page-title">Catálogo</h1>
        <div class="filters">
            <div class="filter-group">
                <label for="categoria">Categoría:</label>
                <select id="categoria">
                    <option value="">Todas</option>
                    <option value="mujer">Mujer</option>
                    <option value="hombre">Hombre</option>
                    <option value="accesorios">Accesorios</option>
                    <option value="zapatos">Zapatos</option>
                </select>
            </div>

            <div class="filter-group">
                <label for="talla">Talla:</label>
                <select id="talla">
                    <option value="">Todas</option>
                    <option value="S">S</option>
                    <option value="M">M</option>
                    <option value="L">L</option>
                    <option value="XL">XL</option>
                </select>
            </div>

            <div class="filter-group">
                <label for="precio">Precio máximo:</label>
                <input type="number" id="precio" min="0" placeholder="Ej. 50">
            </div>

            <button id="btn-filtrar" class="btn-filter">Filtrar</button>
            <button id="btn-limpiar" class="btn-clear">Limpiar</button>
        </div>

        <div class="products-grid" id="productos-container">

        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>ClotheShop</h4>
                    <p>ClotheShop, entrega rápida, experiencia segura.</p>
                </div>
                <div class="footer-section">
                    <h4>Enlaces</h4>
                    <ul>
                        <li><a href="menu.html">Menu</a></li>
                        <li><a href="catalogo.html">Catálogo</a></li>
                        <li><a href="soporte.html">Soporte</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; ClotheShop. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <script>
        const productos = [
            { id: 1, nombre: "Vestido Floreado", categoria: "mujer", talla: "M", precio: 29.99, imagen: "https://www.davani.es/63416-superlarge_default/vestido-floreado-vestidos-largos-ropa-mujer-sexy-elegante-fashion-calidad-oferta-rebajas-mayorista-barato-gratis-nueva-temporada.jpg" },
            { id: 2, nombre: "Camisa Blanca Clásica", categoria: "hombre", talla: "L", precio: 24.99, imagen: "https://dam.elcorteingles.es/producto/www-8447340189675-00.jpg?impolicy=Resize&width=967&height=1200" },
            { id: 3, nombre: "Pantalón Chino Slim", categoria: "hombre", talla: "M", precio: 34.99, imagen: "https://www.lidl.es/media/product/0/0/8/3/0/3/7/pantalon-chino-slim-fit-para-hombre-zoom--9.png" },
            { id: 4, nombre: "Camisa Negra Clásica", categoria: "mujer", talla: "S", precio: 19.99, imagen: "https://shoppinginibiza.com/144920-large_default/only-camiseta-negra-onlmoster-mujer.jpg" },
            { id: 5, nombre: "Zapatillas Deportivas", categoria: "zapatos", talla: "42", precio: 49.99, imagen: "https://media.querol.net/226937-thickbox_default/zapatillas-deportivas-nike-revolution-6-next-nature-negras.jpg" },
            { id: 6, nombre: "Gafas de Sol", categoria: "accesorios", talla: "UNICA", precio: 18.99, imagen: "https://ndearenas.com/85676-large_default/gafas-de-sol-negras.jpg" },
            { id: 7, nombre: "Sudadera Negra Capucha", categoria: "mujer", talla: "S", precio: 27.99, imagen: "https://gaudi-fashion.com/media/catalog/product/cache/31e1789a98ce7552228bd51fd1aba7ba/2/5/252_511bd64001_2001-p01.jpg" },
            { id: 8, nombre: "Sudadera Blanca Capucha", categoria: "hombre", talla: "XL", precio: 35.99, imagen: "https://shoppinginibiza.com/181334-large_default/lacoste-sudadera-blanca-sh5643-hombre.jpg" }
        ];

        function renderProductos(lista) {
            const contenedor = document.getElementById('productos-container');
            contenedor.innerHTML = lista.map(p => `
                <div class="product-card" data-categoria="${p.categoria}" data-talla="${p.talla}" data-precio="${p.precio}">
                    <img src="${p.imagen}" alt="${p.nombre}">
                    <h3>${p.nombre}</h3>
                    <p class="price">€${p.precio.toFixed(2)}</p>
                    <button class="add-to-cart" data-id="${p.id}">Añadir al carrito</button>
                </div>
            `).join('');
        }
        document.getElementById('btn-filtrar').addEventListener('click', () => {
            const cat = document.getElementById('categoria').value;
            const talla = document.getElementById('talla').value;
            const precioMax = parseFloat(document.getElementById('precio').value) || Infinity;
            const filtrados = productos.filter(p =>
                (cat === '' || p.categoria === cat) &&
                (talla === '' || p.talla === talla) &&
                (p.precio <= precioMax)
            );
            renderProductos(filtrados);
        });

        document.getElementById('btn-limpiar').addEventListener('click', () => {
            document.getElementById('categoria').value = '';
            document.getElementById('talla').value = '';
            document.getElementById('precio').value = '';
            renderProductos(productos);
        });

        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('add-to-cart')) {
                const id = parseInt(e.target.dataset.id);

                let carrito = JSON.parse(localStorage.getItem('carrito')) || [];

                const item = carrito.find(i => i.id === id);
                if (item) {
                    item.cantidad++;
                } else {
                    carrito.push({ id, cantidad: 1 });
                }

                localStorage.setItem('carrito', JSON.stringify(carrito));
                alert(`"${productos.find(p => p.id === id).nombre}" añadido al carrito`);
            }
        });

        renderProductos(productos);
    </script>
</body>
</html>